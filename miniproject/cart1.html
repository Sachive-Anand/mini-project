<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <link rel="stylesheet" href="cart.css">
</head>

<body>
    <header>
        <div class="nav-bar">
            <div class="nav-logo">
                <p><i class="fa fa-shopping-cart"></i> ShoppX</p>
            </div>
            <div class="nav-links" id="nav-links">
                <i class="fa fa-close" onclick="closeNav()"></i>
                <ul>
                    <a href="#">
                        <li>home</li>
                    </a>
                    <a href="#services">
                        <li>services</li>
                    </a>
                    <a href="#products">
                        <li>products</li>
                    </a>
                    <a href="#contact">
                        <li>contact</li>
                    </a>
                    <a href="cart1.html"><li>cart</li></a>
                </ul>
                <div class="btn1">sign in</div>
            </div>
            <i class="fa fa-bars" onclick="show()"></i>
        </div>
        <div class="container">
            <h1>Cart</h1>
            <div id="cart-items" class="cart-items"></div>
            <div id="total"></div>
            <button onclick="clearCart()" class="clear-cart">Clear Cart</button> <!-- Button to clear the cart -->
            <a href="order_success_index.html"><button onclick="checkout()" class="proceed-checkout">Proceed to Checkout</button> <!-- Button to proceed to checkout -->
              </a>
        </div>

        <script>
            const cart = JSON.parse(localStorage.getItem('cart')) || [];

            let cartItemsHTML = "";
            let totalPrice = 0;

            for (let item of cart) {
                cartItemsHTML += `
        <div class="cart-item-wrapper">
            <p>${item.productName} - Quantity: ${item.quantity} - Price: $${item.total}</p>
        </div>`;
                totalPrice += item.total;
            }
            document.getElementById('cart-items').innerHTML = cartItemsHTML;
            document.getElementById('total').innerHTML = <p>Total Price: $${totalPrice}</p>;

            function clearCart() {
                localStorage.removeItem('cart');
                // Update the displayed cart items
                document.getElementById('cart-items').innerHTML = "";
                document.getElementById('total').innerHTML = "<p>Total Price: $0</p>";
            }
        </script>
</body>

</html>